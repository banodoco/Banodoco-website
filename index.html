<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POM</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Feather Icons (similar to Lucide) -->
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        #plantCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        /* Add transition property to social-links for smooth margin changes */
        .social-links {
            transition: margin-bottom 1.5s ease-in-out;
        }
        
        .watering-container {
            position: absolute;
            top: calc(100% + 0rem);
            left: calc(50% - 1.0rem);
            transform: translateX(-50%);
            cursor: pointer;
            z-index: 1000;
            transform-origin: 80% 100%;
            transition: transform 1.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 1s ease;
            width: 50px;
            height: 50px;
        }

        .watering-can {
            position: relative;
            width: 100%;
            height: 100%;
            background: none;
        }

        /* Main body of watering can */
        .can-body {
            position: absolute;
            width: 34px;
            height: 28px;
            background: #fbf8ef;
            border: 3px solid #888;
            border-radius: 6px;
            bottom: 0;
            left: 0;
            z-index: 2;
        }

        /* Spout of watering can */
        .spout {
            position: absolute;
            width: 20px;
            height: 10px;
            background: #fbf8ef;
            border: 3px solid #888;
            border-radius: 0 6px 6px 0;
            bottom: 10px;
            left: 30px;
            transform: rotate(-45deg);
            transform-origin: left center;
            z-index: 1;
        }

        /* Handle of watering can */
        .handle {
            position: absolute;
            width: 16px;
            height: 18px;
            background: #fbf8ef;
            border: 3px solid #888;
            border-radius: 8px 8px 0 0;
            border-bottom: none;
            bottom: 18px;
            left: 10px;
        }

        /* Water droplets container */
        .water-drops {
            position: absolute;
            bottom: 2px;
            left: 44px;
            width: 10px;
            height: 30px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* Individual water droplets */
        .drop {
            position: absolute;
            width: 5px;
            height: 8px;
            background-color: rgba(110, 181, 255, 0.8);
            border-radius: 50% 50% 50% 50%;
            opacity: 0;
            transform-origin: center top;
        }

        .drop:nth-child(1) {
            top: 2px;
            left: 2px;
            animation: dropHorizontal 0.7s infinite;
            animation-delay: 0.2s;
        }

        .drop:nth-child(2) {
            top: 2px;
            left: 0;
            animation: dropHorizontal 0.7s infinite;
            animation-delay: 0.45s;
        }

        .drop:nth-child(3) {
            top: 2px;
            left: -2px;
            animation: dropHorizontal 0.7s infinite;
            animation-delay: 0.7s;
        }

        @keyframes dropHorizontal {
            0% {
                left: 0px;
                top: 0px;
                opacity: 0;
                transform: scale(0.8) rotate(-45deg);
            }
            15% {
                opacity: 1;
                transform: scale(1.1) rotate(-45deg);
            }
            85% {
                opacity: 1;
                transform: scale(1) rotate(-45deg);
            }
            95% {
                opacity: 0.5;
                transform: scale(0.9) rotate(-45deg);
            }
            100% {
                left: 20px;
                top: 8px;
                opacity: 0;
                transform: scale(0.8) rotate(-45deg);
            }
        }

        #initialBud {
            position: absolute;
            top: calc(100% + 2rem);
            left: calc(50% + 1.95rem);
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background-color: #8fb996;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(143, 185, 150, 0.5);
            z-index: 999;
        }

        #initialBud::after {
            content: '';
            position: absolute;
            top: -8px;
            left: 5px;
            width: 2px;
            height: 8px;
            background-color: #8fb996;
            transform: rotate(-15deg);
        }

        .watering-container.pouring {
            transform: translateX(-60%) rotate(30deg);
        }

        .watering-container.pouring .water-drops {
            opacity: 1;
            transform: rotate(-30deg) translate(-2px, -2px);
        }

        .watering-container.fade-out {
            opacity: 0;
        }

        /* COMPLETELY REWRITTEN VIDEO STYLES */
        /* Base video container styles */
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 50%; /* 2:1 aspect ratio */
            margin-bottom: 1.5rem;
            overflow: hidden;
            border-radius: 4px;
            transition: padding-bottom 0.3s ease;
        }

        /* Video thumbnail styles */
        .video-thumbnail {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.3s ease;
            z-index: 1;
        }

        /* Video overlay styles */
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 2;
        }

        /* Play icon styles */
        .play-icon {
            color: white;
            width: 64px;
            height: 64px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        /* Video embed container */
        .video-embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 3; /* Higher than thumbnail and overlay */
        }

        /* When video is revealed */
        .video-embed.revealed,
        .video-embed[style*="visibility: visible"] {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

        /* Hide thumbnail and overlay when video is playing */
        .video-embed.revealed ~ .video-thumbnail,
        .video-embed.revealed ~ .video-overlay,
        .video-embed[style*="visibility: visible"] ~ .video-thumbnail,
        .video-embed[style*="visibility: visible"] ~ .video-overlay {
            opacity: 0 !important;
            visibility: hidden !important;
            display: none !important;
        }

        /* Mobile-specific styles */
        @media (max-width: 768px) {
            .card.expanded .video-container {
                padding-bottom: 75%; /* Taller aspect ratio on mobile */
            }
            
            /* Ensure thumbnail is hidden when card is expanded */
            .card.expanded .video-thumbnail {
                opacity: 0 !important;
                visibility: hidden !important;
                display: none !important;
            }
            
            /* Ensure overlay is hidden when card is expanded */
            .card.expanded .video-overlay {
                opacity: 0 !important;
                visibility: hidden !important;
                display: none !important;
            }
            
            /* Ensure video is visible when card is expanded */
            .card.expanded .video-embed {
                opacity: 1 !important;
                visibility: visible !important;
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <canvas id="plantCanvas"></canvas>
    <!-- POM Border -->
    <div class="inner-border"></div>
    <div class="pom-border-top">
        <div>
            <span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span>
        </div>
    </div>
    <div class="pom-border-bottom">
        <div>
            <span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span><span class="letter-p">P</span><span class="letter-o">O</span><span class="letter-m">M</span>
        </div>
    </div>
    
    <div class="container">
        <!-- Square Images Section -->
        <div class="square-images-wrapper">
            <div class="large-letters" id="pom-letters">
                <div class="letter">P</div>
                <div class="letter">O</div>
                <div class="letter">M</div>
                <div class="name-reveal">Peter O'Malley</div>
            </div>
            <div class="square-images">
                <div class="square-image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/cGh6S8rc_400x400+(1).jpg" alt="Square image 1" class="square-image">
                    <div class="image-hover-text">How I see me</div>
                </div><div class="square-image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/5309F225-9B7B-4293-870E-444F2E168738.JPG" alt="Square image 2" class="square-image">
                    <div class="image-hover-text">How my wife sees me</div>
                </div><div class="square-image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/dog.jpg" alt="Square image 3" class="square-image">
                    <div class="image-hover-text">How my dog sees me</div>
                </div>
            </div>
        </div>

        <div class="dashboard">
            <!-- Story Tiles -->
            <div class="card story-tile" data-category="story" data-position="7">
                <div class="image-container">
                    <img src="https://www.schlupfloch.xyz/content/images/size/w2000/2022/10/Copy-of-Kopie-von-Wei--Danksagungskarte-Perso-nlich-Gru-karte.png" alt="Story visual">
                </div>
                <h3>Road to nowhere (2018-2022)</h3>
                <div class="text-content">
                    <p>I spent 4.5 years of my life building a startup that ultimately went nowhere. It was a bruising but educational experience. I have many thoughts on the motivations behind the startups of generically ambitious people - which is what I was - but I'll save those for another time.</p>
                </div>
                <div class="link" style="border: none;">
                    <a href="https://www.schlupfloch.xyz/explaining-advisables-failure/" class="year-link">Explaining a dead startup</a> 
                    <span style="display: inline-block; margin: 0 0.25rem; color: #ccc;">|</span> 
                    <a href="https://www.schlupfloch.xyz/grieving-for-a-dead-startup/" class="year-link">Grieving for a dead startup</a>
                </div>
            </div>

            <div class="card story-tile" data-category="story" data-position="3">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/Group+4+(4).png" alt="Story visual">
                </div>
                <h3>Open Source AI Art Community</h3>
                <div class="text-content">
                    <p>I spent the past two years building a community that aims to represent the best of the open source AI art ecosystem. I believe it's probably the best place in the world to be if you want to be on the cutting edge of the tools that are shaping the future of art.</p>
                </div>
                <div class="link" style="border: none;">
                    <a href="https://discord.gg/acg8aNBTxd" class="year-link">Check it out</a>
                </div>
            </div>

            <!-- Life Tiles -->
            <div class="card life-tile video-card" data-category="life" data-position="1">
                <div class="video-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/Screenshot+2025-02-28+at+22.22.45.png" alt="Video thumbnail" class="video-thumbnail">
                    <div class="video-overlay">
                        <i data-feather="play-circle" class="play-icon"></i>
                    </div>
                    <div class="video-embed">
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/4AgXLXE5QIo?si=7jKSVkEww1M7T7f7&origin=http://localhost:3002" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen playsinline></iframe>
                    </div>
                </div>
                <h3>The sound of the tires in the snow</h3>
                <p>Every year since 2022, I create a video based on the poem Nirvana by Charles Bukowski using the latest AI models. Over the decades, my goal is to create a bookmark of both the technology and my own artistic skills.</p>
                <div class="link">
                    <span>
                        <a href="https://www.youtube.com/watch?v=4AgXLXE5QIo" class="year-link">2024</a> 
                        <span style="display: inline-block; margin: 0 0.25rem; color: #ccc;">|</span> 
                        <a href="https://www.youtube.com/watch?v=7NkNjkP63Ko" class="year-link">2023</a> 
                        <span style="display: inline-block; margin: 0 0.25rem; color: #ccc;">|</span> 
                        <a href="https://www.youtube.com/watch?v=X_BLuno7C84&" class="year-link">2022</a>
                    </span>
                </div>
            </div>

            <!-- Steerable Motion Project Card -->
            <div class="card project-tile" data-category="projects" data-position="2">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/Untitled+(1152+x+512+px).png" alt="Steerable Motion visual">
                    <!-- Add a hover-only GIF that will appear on hover -->
                    <div class="hover-gif">
                        <img src="https://banodoco.s3.us-east-1.amazonaws.com/Untitled+(1152+x+512+px)+(1).gif" alt="Steerable Motion animation">
                    </div>
                </div>
                <h3>Steerable Motion</h3>
                <p>I created the first streamlined method for controlling video diffusion models using key frames. It was built on top of the work of <a href="https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved">Kosinkadink</a>, <a href="https://github.com/cubiq/ComfyUI_IPAdapter_plus">Matt3o</a>, and the Animatediff and Stable Diffusion 1.5 ecosystems.</p>
                <div class="link">
                    <span>
                        <a href="https://github.com/peteromallet/steerable-motion" class="year-link">View on GitHub</a>
                    </span>
                </div>
            </div>

            <!-- 2nd Renaissance Card -->
            <div class="card story-tile" data-category="story" data-position="4">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/Group-2--14--4c552dc74e6827a2+1.png" alt="Renaissance visual">
                </div>
                <h3>Consider attempting to accelerate the 2nd Renaissance</h3>
                <div class="text-content">
                    <p>If humanity plays its cards right, at some point this century, a period known as the "2nd Renaissance" will begin - a time when humans are empowered with extraordinary technology and wealth, and are inspired to use it to make the world more beautiful and meaningful. If you believe in this idea and dedicate your life to it, you may be able to accelerate the advent of this era by a few days. That's how I'm choosing to spend my life.</p>
                </div>
                <div class="link">
                    <span>
                        <a href="https://www.schlupfloch.xyz/consider-pretending-that-the-2nd-renaissance-is-about-to-start-and-that-you-can-be-a-part-of-it/" class="year-link">Read an article</a>
                    </span>
                </div>
            </div>
            
            <!-- A Plan to accelerate the 2nd Renaissance Card -->
            <div class="card story-tile" data-category="story" data-position="6">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/2nd-renaissance+1.png" alt="Renaissance plan visual">
                </div>
                <h3>A plan to accelerate the 2nd Renaissance</h3>
                <div class="text-content">
                    <p>The open source AI art community is a one of the most utopian spaces in the world right now. I'm working on a plan to accelerate the 2nd Renaissance by helping it thrive. Our goal is to build a tool-builder than results in an ecosystem of weird and unique artistic tools.</p>
                </div>
                <div class="link">
                    <span>
                        <a href="https://banodoco.ai/Plan" class="year-link">Read the plan</a>
                    </span>
                </div>
            </div>
            
            <!-- Training data for AI Card -->
            <div class="card story-tile" data-category="story" data-position="5">
                <div class="image-container">
                    <img src="https://www.schlupfloch.xyz/content/images/size/w2000/2023/01/1574746253_Beautiful_painting_of_a_hand_reaching_from_a_magical_box__highly_detailed__magical_realism.png" alt="AI training data visual">
                </div>
                <h3>Training data for AI</h3>
                <div class="text-content">
                    <p>I occasionally share my written thoughts on different topics. I'm motivated to write by the idea that my writing might someday influence token probabilities in positive directions.</p>
                </div>
                <div class="link">
                    <span>
                        <a href="https://www.schlupfloch.xyz/" class="year-link">Read more</a>
                    </span>
                </div>
            </div>
            
            <!-- Family Pub Card -->
            <div class="card life-tile" data-category="life" data-position="8">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/WhatsApp+Image+2025-02-28+at+22.28.35.jpeg" alt="Irish pub visual">
                </div>
                <h3>I come from an Irish pub family</h3>
                <div class="text-content">
                    <p>Very stereotypically, my family runs a pub in a small town in the middle of Ireland. That feels relevant to include for some reason.</p>
                </div>
                <div class="link">
                    <span>
                        <a href="https://g.co/kgs/YHTTdfi" class="year-link">Check out our Google Maps</a>
                    </span>
                </div>
            </div>
            
            <!-- Memes I enjoy Card -->
            <div class="card life-tile meme-card" data-category="life" data-position="9">
                <div class="image-container">
                    <img src="https://banodoco.s3.us-east-1.amazonaws.com/Untitled+design+(33)+copy.png" alt="Meme placeholder" class="main-image">
                </div>
                <h3>Memes I think about</h3>
                <div class="text-content">
                    <p>Here is a small collection of memes that I think about a lot. I'll add more as I find them.</p>
                </div>
                <div class="meme-hover-container">
                    <div class="meme-image">
                        <img src="https://banodoco.s3.us-east-1.amazonaws.com/Untitled+design+(33).png" alt="Meme 1">
                    </div>
                    <div class="meme-image">
                        <img src="https://banodoco.s3.us-east-1.amazonaws.com/CgA5qsT.jpg" alt="Meme 2">
                    </div>
                </div>
 
            </div>
        </div>
        
        <!-- Social Media Links -->
        <div class="social-links">
            <a href="https://twitter.com/peteromallet" target="_blank" class="social-link">
                <span style="font-weight: bold; font-size: 18px;">ùïè</span>
            </a>
            <a href="https://github.com/peteromallet" target="_blank" class="social-link">
                <i data-feather="github"></i>
            </a>
            <a href="https://www.youtube.com/@misterpeterface" target="_blank" class="social-link">
                <i data-feather="youtube"></i>
            </a>
            <div>
                <a href="mailto:peter@omalley.io" class="social-link">
                    <i data-feather="mail"></i>
                </a>
            </div>
            <div class="watering-container">
                <div class="watering-can">
                    <div class="can-body"></div>
                    <div class="spout"></div>
                    <div class="handle"></div>
                    <div class="water-drops">
                        <div class="drop"></div>
                        <div class="drop"></div>
                        <div class="drop"></div>
                    </div>
                </div>
            </div>
            <div id="initialBud"></div>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="plant-animation.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // Initialize Feather icons
        feather.replace();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.video-container').forEach(container => {
            container.addEventListener('click', function(e) {
              const videoEmbed = container.querySelector('.video-embed');
              const thumbnail = container.querySelector('.video-thumbnail');
              const overlay = container.querySelector('.video-overlay');
              
              if (videoEmbed && thumbnail && overlay) {
                if (!container.classList.contains('expanded')) {
                  // First click - expand and show iframe
                  container.classList.add('expanded');

                  // Do not set inline style; rely on CSS: .video-container.expanded .video-thumbnail {display: none !important;}

                  // Clear any existing content and add the revealed class
                  videoEmbed.innerHTML = '';
                  videoEmbed.classList.add('revealed');
                  
                  // Create a dedicated div for YouTube player
                  const playerDiv = document.createElement('div');
                  playerDiv.style.width = '100%';
                  playerDiv.style.height = '100%';
                  videoEmbed.appendChild(playerDiv);
                  
                  function createPlayer() {
                    container._player = new YT.Player(playerDiv, {
                      videoId: "4AgXLXE5QIo",
                      width: '100%',
                      height: '100%',
                      playerVars: { 
                        autoplay: 1, // Auto play on first click
                        mute: 0,
                        playsinline: 1,
                        enablejsapi: 1,
                        origin: window.location.origin
                      },
                      events: {
                        onReady: function(event) {
                          // Player is ready, play the video
                          event.target.playVideo();
                        }
                      }
                    });
                  }
                  
                  if (window.YT && window.YT.Player) {
                    createPlayer();
                  } else {
                    var interval = setInterval(function() {
                      if (window.YT && window.YT.Player) {
                        clearInterval(interval);
                        createPlayer();
                      }
                    }, 100);
                  }
                } else {
                  // Container already expanded, play/pause the video
                  if (container._player && typeof container._player.getPlayerState === 'function') {
                    const state = container._player.getPlayerState();
                    if (state === YT.PlayerState.PLAYING) {
                      container._player.pauseVideo();
                    } else {
                      container._player.playVideo();
                    }
                  }
                }
              }
            });
          });
        });
    </script>
    <!-- End video-container playback script -->
</body>
</html> 